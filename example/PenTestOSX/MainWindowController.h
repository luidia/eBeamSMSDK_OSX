//
//  MainWindowController.h
//  PenTestOSX
//
//  Created by Luidia on 2019
//  Copyright © 2019년 Luidia. All rights reserved.
//

#import <Cocoa/Cocoa.h>
#import "PNFPenLib.h"
#import "BLESearchListController.h"
#import "DrawViewWindowController.h"
#import "MarkerCalibrationViewController.h"
#import "BTNameChangeViewController.h"
#import "VoiceChangeViewController.h"

@class PNFPenLibOSXExtension;

@interface MainWindowController : NSWindowController<NSTextFieldDelegate>
{
    PNFPenLibOSXExtension *penController;
    
    BLESearchListController* m_BLESearchListController;
    MarkerCalibrationViewController* m_MarkerCalibrationViewController;
    DrawViewWindowController* m_DrawViewWindowController;
    BTNameChangeViewController* m_BTNameChangeViewController;
    VoiceChangeViewController* m_VoiceChangeViewController;
    
    IBOutlet NSTextView *debugTextView;
    
    IBOutlet NSTextField *downCntTextField;
    IBOutlet NSTextField *moveCntTextField;
    IBOutlet NSTextField *upCntTextField;
    IBOutlet NSTextField *totalCntTextField;
    IBOutlet NSTextField *byteTextField;
    IBOutlet NSTextField *kByteTextField;
    
    IBOutlet NSTextField *modelCodeTextField;
    IBOutlet NSTextField *hwVerTextField;
    IBOutlet NSTextField *mcu1TextField;
    IBOutlet NSTextField *mcu2TextField;
    
    IBOutlet NSTextField *statusTextField;
    IBOutlet NSTextField *rawXTextField;
    IBOutlet NSTextField *rawYTextField;
    IBOutlet NSTextField *convXTextField;
    IBOutlet NSTextField *convYTextField;
    
    IBOutlet NSTextField *directionTextField;
    IBOutlet NSTextField *flagTextField;
    IBOutlet NSSlider *volumeSlider;
    IBOutlet NSSegmentedControl *audioModeBtn;
    IBOutlet NSTextField *HIDTextField;
    
    IBOutlet NSTextField *batteryStationTextField;
    IBOutlet NSTextField *batteryPenTextField;
    
    IBOutlet NSTextField *packetCntTextField;
    
    IBOutlet NSTextField *errCntTextFieldX;
    IBOutlet NSTextField *errCntTextFieldY;
    
    IBOutlet NSButton *drawingBtn;
    IBOutlet NSButton *calibrationBtn;
    IBOutlet NSButton *voiceChangeBtn;
    IBOutlet NSButton *bleNameChangeBtn;
    IBOutlet NSButton *bleSearchBtn;
    IBOutlet NSButton *bleDisconnectBtn;
    IBOutlet NSTextField *propertiesTextField;
}

@property (retain) PNFPenLibOSXExtension *penController;
@property (retain) BLESearchListController* m_BLESearchListController;
@property (retain) MarkerCalibrationViewController* m_MarkerCalibrationViewController;
@property (retain) DrawViewWindowController* m_DrawViewWindowController;
@property (retain) BTNameChangeViewController* m_BTNameChangeViewController;
@property (retain) VoiceChangeViewController* m_VoiceChangeViewController;

-(void) addDebugText:(NSString*)text;
-(void) closeSelf;
-(void) FreeLogMsg:(NSNotification *) note;
-(void) PenCallBackFunc:(NSNotification *)call;
-(void) setPNFPenLib;
-(void) PenHandlerWithArgs:(CGPoint) Arg_ptRaw ptConv:(CGPoint) Arg_ptConv PenStatus:(int) Arg_PenStatus
               Temperature:(int) Arg_Temperature ModelCode:(int) Arg_modelCode
                SMPenFlag :(int) Arg_SMPenFlag SMPenState:(int) Arg_SMPenState
                  Pressure:(int) Arg_pressure;
@end
